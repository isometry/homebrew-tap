# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class VaultSshPlus < Formula
  desc "Automatically use HashiCorp Vault SSH Client Key Signing with ssh(1)"
  homepage "https://just.breathe.io/project/vault-ssh-plus/"
  version "0.7.2"

  depends_on "vault"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.2/vault-ssh-plus_0.7.2_darwin_amd64.zip"
      sha256 "bbaabbc393d045278e482a3223e61eb5e68024e40af2baa5b1aa54f4b973ed90"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.2/vault-ssh-plus_0.7.2_darwin_arm64.zip"
      sha256 "4c757f327dcca499a1ec21e64f8a4df1fda2a18ec48289bd45eb271f10b7f761"

      def install
        bin.install "vssh"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.2/vault-ssh-plus_0.7.2_linux_arm.zip"
      sha256 "3c192b3ea7d7d6f1fcd3c722b9e7df3b6074ddc0e7bd7b535a2ed994a5dba91d"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.2/vault-ssh-plus_0.7.2_linux_arm64.zip"
      sha256 "a609cc6f5ed5d7ec8b90bdf6e3a0cf38ab9a8a772cbe0ca0ea9dedc7d3e305ab"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.2/vault-ssh-plus_0.7.2_linux_amd64.zip"
      sha256 "34d25f65efa6436764394ff3616a98e6d0f03b3042139ab099c2d026bdb6e822"

      def install
        bin.install "vssh"
      end
    end
  end

  test do
    system "#{bin}/vssh --version"
  end
end
