# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class VaultSshPlus < Formula
  desc "Automatically use HashiCorp Vault SSH Client Key Signing with ssh(1)"
  homepage "https://just.breathe.io/project/vault-ssh-plus/"
  version "0.7.6"

  depends_on "vault"

  on_macos do
    on_intel do
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.6/vault-ssh-plus_0.7.6_darwin_amd64.zip"
      sha256 "b72fc9142ea2c7d3c5be6115ee57edaf51869ff342d152a41eb306d7bc3b4f72"

      def install
        bin.install "vssh"
      end
    end
    on_arm do
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.6/vault-ssh-plus_0.7.6_darwin_arm64.zip"
      sha256 "4a174373129825ab08e049d737d3033804f4685da54833b699d647a02a4d57de"

      def install
        bin.install "vssh"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.6/vault-ssh-plus_0.7.6_linux_amd64.zip"
        sha256 "6f632b8fd6327eb1e34399b404b4956f70112a7f04fbe248ed516cc0a519a832"

        def install
          bin.install "vssh"
        end
      end
    end
    on_arm do
      if !Hardware::CPU.is_64_bit?
        url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.6/vault-ssh-plus_0.7.6_linux_arm.zip"
        sha256 "8b3f99156f68e8633d00409d427eb2c3260d432d938ac3663803398d6f1321d6"

        def install
          bin.install "vssh"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.6/vault-ssh-plus_0.7.6_linux_arm64.zip"
        sha256 "67f72fef968d2787ae615854892c56082be04af4e36be3d6766053e2a991a191"

        def install
          bin.install "vssh"
        end
      end
    end
  end

  test do
    system "#{bin}/vssh --version"
  end
end
