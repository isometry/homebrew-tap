# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class VaultSshPlus < Formula
  desc "Automatically use HashiCorp Vault SSH Client Key Signing with ssh(1)"
  homepage "https://just.breathe.io/project/vault-ssh-plus/"
  version "0.7.3"

  depends_on "vault"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.3/vault-ssh-plus_0.7.3_darwin_arm64.zip"
      sha256 "6165ba8ca464e6a8eff7e20d154c79d6135e1174d0580a19a1a7bebc864f48db"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.3/vault-ssh-plus_0.7.3_darwin_amd64.zip"
      sha256 "cd299b088df10c3eaef0992847fd46f8c9c93c300d8507d9ece0ca13560e51ed"

      def install
        bin.install "vssh"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.3/vault-ssh-plus_0.7.3_linux_arm64.zip"
      sha256 "c5d45d82bfd2e7b04e240cc6e87ee890ee0ff26b8d1152cc3bedddd110dc3a26"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.3/vault-ssh-plus_0.7.3_linux_arm.zip"
      sha256 "6216dd718bed8f49cb9797c9c849542e8b41ddcef1958cb5210fa27e3c8cb23d"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.3/vault-ssh-plus_0.7.3_linux_amd64.zip"
      sha256 "dac5ba5881d8f4a92e74abd5640138a4306e290209d2dc0406ffbf5b4e2999e9"

      def install
        bin.install "vssh"
      end
    end
  end

  test do
    system "#{bin}/vssh --version"
  end
end
