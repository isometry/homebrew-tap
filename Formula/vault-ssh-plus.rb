# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class VaultSshPlus < Formula
  desc "Automatically use HashiCorp Vault SSH Client Key Signing with ssh(1)"
  homepage "https://just.breathe.io/project/vault-ssh-plus/"
  version "0.5.3"

  depends_on "vault"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.5.3/vault-ssh-plus_0.5.3_darwin_amd64.zip"
      sha256 "22b107ddf075988f54bb9532187b89c1dbac4559eef6803648f0776e2b61c289"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.5.3/vault-ssh-plus_0.5.3_darwin_arm64.zip"
      sha256 "eeb0dd3d95d8779e9b5b259cb77386e14b5e26d188aabb44bf964694505ab766"

      def install
        bin.install "vssh"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.5.3/vault-ssh-plus_0.5.3_linux_arm.zip"
      sha256 "b60742ef43e402a3725841c456f0446151b0da78d279428adbc25621dc1a31e2"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.5.3/vault-ssh-plus_0.5.3_linux_arm64.zip"
      sha256 "0cd3a9bd044cdaa24cc90d94fcd64c0c7ef383aa42c3e2476cc2dbc618fe5b7d"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.5.3/vault-ssh-plus_0.5.3_linux_amd64.zip"
      sha256 "356cb24e4a5502a7896131365b4762fa7fca1352da5e7cdf05c12a296697c75e"

      def install
        bin.install "vssh"
      end
    end
  end

  test do
    system "#{bin}/vssh --version"
  end
end
