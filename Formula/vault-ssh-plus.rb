# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class VaultSshPlus < Formula
  desc "Automatically use HashiCorp Vault SSH Client Key Signing with ssh(1)"
  homepage "https://just.breathe.io/project/vault-ssh-plus/"
  version "0.7.1"

  depends_on "vault"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.1/vault-ssh-plus_0.7.1_darwin_arm64.zip"
      sha256 "6bc5a27ef09bc179915460b25b94537c30bfc2f026bb7ff409a6b5772dfa8f64"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.1/vault-ssh-plus_0.7.1_darwin_amd64.zip"
      sha256 "0a6a668c12b7a4b30adc0c97208baf13358a7c00b15b5af8b95a3a362e86bfec"

      def install
        bin.install "vssh"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.1/vault-ssh-plus_0.7.1_linux_amd64.zip"
      sha256 "319aeac4922062e0399c08147f453c371a9b059449a8ceb8c79153ccd68be6e8"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.1/vault-ssh-plus_0.7.1_linux_arm.zip"
      sha256 "a39278b5b0d2ceaa1a7450493b03ca58624706d976fdf152c457c93d11f51ba5"

      def install
        bin.install "vssh"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/isometry/vault-ssh-plus/releases/download/v0.7.1/vault-ssh-plus_0.7.1_linux_arm64.zip"
      sha256 "73b6f464bb49eeefea1ec47ab0bf2c67fdc035f2efc50c1e07c7e9a7862c1cba"

      def install
        bin.install "vssh"
      end
    end
  end

  test do
    system "#{bin}/vssh --version"
  end
end
